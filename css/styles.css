body {
  padding: 0 1rem 2rem 1rem;
  margin: 0;
  background: #f5f5f5;
  max-width: none !important;
  overflow-x: hidden;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.container {
  width: 95% !important;
  max-width: 1400px !important;
  background: white;
  padding: 2.5rem;
  border: 1px solid #000;
  border-radius: 12px;
  margin: 1rem auto 0 auto;
  box-sizing: border-box;
  color: #000;
}

.title {
  color: #000;
  margin-bottom: 1rem;
}

.subtitle {
  color: #333;
  margin-bottom: 1.5rem;
}

.hero {
  background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
  color: white;
  padding: 3rem 2rem;
  margin-bottom: 2.5rem;
  border-radius: 8px;
}

.hero h1, .hero p, .hero a, .hero span, .hero strong {
  color: white !important;
}

.money {
  font-size: 2.5rem;
  font-weight: bold;
  color: #000;
  margin-bottom: 0.5rem;
  cursor: pointer;
}

.box {
  border: 1px solid #ddd;
  background: #fff;
  padding: 2rem;
  margin-bottom: 1.5rem;
  border-radius: 8px;
}

.box.celebration {
  background: #fff9e6;
  border-color: #ffd700;
  animation: wobble 0.5s ease;
}

@keyframes wobble {
  0%, 100% { transform: translateY(-2px) rotate(0deg); }
  25% { transform: translateY(-2px) rotate(-2deg); }
  75% { transform: translateY(-2px) rotate(2deg); }
}

a {
  color: #000;
  text-decoration: underline;
}

table {
  border: 1px solid #ddd;
  border-radius: 8px;
  overflow: hidden;
}

th, td {
  border: 1px solid #ddd;
  padding: 1rem;
}

.highlight {
  background: #e8e8e8 !important;
  font-weight: 600;
}

.highlight td,
.highlight td *,
.highlight strong {
  color: #000 !important;
  background: transparent !important;
}

table,
table td,
table th,
table td *,
table th *,
table strong,
table tr {
  color: #000 !important;
  background: white !important;
}

table {
  background: white !important;
}

tr.highlight,
tr.highlight td {
  background: #e8e8e8 !important;
}

ul, ol {
  margin-left: 1.5rem;
  margin-top: 1rem;
}

li {
  margin-bottom: 0.75rem;
}

footer {
  border-top: none !important;
  padding-top: 2rem !important;
  text-align: center;
}

p {
  margin-bottom: 1rem;
  line-height: 1.7;
  color: #000;
}

.container p,
.container li,
.container td,
.container th,
.container h1,
.container h2,
.container h3,
.container h4,
.container h5,
.container h6,
.container strong,
.container b,
.container em,
.container a:not(.hero a),
.container span,
.container div {
  color: #000 !important;
}

.hero,
.hero *,
.hero h1,
.hero p,
.hero a,
.hero span,
.hero strong,
.hero em {
  color: white !important;
}

.content ul {
  list-style: disc;
}

.content ol {
  list-style: decimal;
}

/* Progress bar */
.progress-bar {
  position: fixed;
  top: 0;
  left: 0;
  height: 4px;
  background: linear-gradient(90deg, #2d7d2d, #4caf50);
  width: 0%;
  transition: width 0.1s ease;
  z-index: 9999;
}

/* Confetti */
.confetti {
  position: fixed;
  width: 10px;
  height: 10px;
  background: #ffd700;
  position: absolute;
  animation: confetti-fall 3s linear forwards;
  z-index: 9998;
}

@keyframes confetti-fall {
  to {
    transform: translateY(100vh) rotate(360deg);
    opacity: 0;
  }
}

/* Floating money */
.floating-money {
  position: fixed;
  font-size: 24px;
  animation: float-up 4s ease-out forwards;
  pointer-events: none;
  z-index: 9997;
}

@keyframes float-up {
  to {
    transform: translateY(-100vh) rotate(20deg);
    opacity: 0;
  }
}

/* Checkbox for action items */
.action-checkbox {
  margin-right: 10px;
  transform: scale(1.2);
  cursor: pointer;
}

.completed-step {
  opacity: 0.6;
  text-decoration: line-through;
}

/* Beating heart */
@keyframes heartbeat {
  0%   { transform: scale(1) }
  10%  { transform: scale(1.2) }
  20%  { transform: scale(1) }
  30%  { transform: scale(1.15) }
  40%  { transform: scale(1) }
  100% { transform: scale(1) }
}

.beating-heart {
  display: inline-block;
  animation: heartbeat 2s ease-in-out infinite;
}

/* Mobile responsive */
@media (max-width: 768px) {
  body {
    padding: 1rem 0.5rem;
    overflow-x: hidden;
  }
  .container {
    padding: 1.5rem;
    border-radius: 8px;
    width: 100% !important;
    box-sizing: border-box;
  }
  .hero {
    padding: 2rem 1rem;
    overflow-wrap: break-word;
  }
  .money {
    font-size: 2rem;
    overflow-wrap: break-word;
  }
  .box {
    padding: 1.5rem;
    overflow-wrap: break-word;
  }
  th, td {
    padding: 0.5rem;
    font-size: 0.9rem;
    overflow-wrap: break-word;
  }
  table {
    width: 100%;
    table-layout: fixed;
  }
  hr { margin: 2rem 0; }
}

/* Print styles */
@media print {
  body { background: white; }
  .container { border: none; }
  .progress-bar { display: none; }
}

/* Dark mode toggle button */
.dark-mode-toggle {
  position: fixed;
  top: 1rem;
  right: 1rem;
  background: #fff;
  border: 2px solid #000;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  cursor: pointer;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.dark-mode-toggle:hover {
  transform: scale(1.1);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.dark-mode-toggle .sun,
.dark-mode-toggle .moon {
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}

.dark-mode-toggle .moon {
  display: none;
}

body.dark-mode .dark-mode-toggle .sun {
  display: none;
}

body.dark-mode .dark-mode-toggle .moon {
  display: inline;
}

/* Dark mode styles */
body.dark-mode {
  background: #1a1a1a;
  color: #e0e0e0;
}

body.dark-mode .container {
  background: #2d2d2d;
  border-color: #444;
  color: #e0e0e0;
}

body.dark-mode .dark-mode-toggle {
  background: #2d2d2d;
  border-color: #4ecdc4;
}

body.dark-mode .box {
  background: #353535;
  border-color: #555;
  color: #e0e0e0;
}

body.dark-mode .hero {
  background: linear-gradient(135deg, #1e7e34 0%, #155724 100%);
}

body.dark-mode .container p,
body.dark-mode .container li,
body.dark-mode .container td,
body.dark-mode .container th,
body.dark-mode .container h1,
body.dark-mode .container h2,
body.dark-mode .container h3,
body.dark-mode .container h4,
body.dark-mode .container h5,
body.dark-mode .container h6,
body.dark-mode .container strong,
body.dark-mode .container b,
body.dark-mode .container em,
body.dark-mode .container span,
body.dark-mode .container div {
  color: #e0e0e0 !important;
}

body.dark-mode .container a:not(.hero a) {
  color: #4ecdc4 !important;
}

body.dark-mode .title,
body.dark-mode .subtitle,
body.dark-mode .money {
  color: #e0e0e0 !important;
}

body.dark-mode table,
body.dark-mode table td,
body.dark-mode table th,
body.dark-mode table td *,
body.dark-mode table th *,
body.dark-mode table strong,
body.dark-mode table tr {
  color: #e0e0e0 !important;
  background: #353535 !important;
}

body.dark-mode tr.highlight,
body.dark-mode tr.highlight td {
  background: #4a4a4a !important;
  color: #e0e0e0 !important;
}

body.dark-mode .highlight td,
body.dark-mode .highlight td *,
body.dark-mode .highlight strong {
  color: #e0e0e0 !important;
}

body.dark-mode select {
  background: #353535 !important;
  color: #e0e0e0 !important;
  border-color: #555 !important;
}

body.dark-mode select option {
  background: #353535;
  color: #e0e0e0;
}

body.dark-mode #calculatorResults {
  background: #2d2d2d !important;
  color: #e0e0e0 !important;
}

/* Override inline background colors in dark mode */
body.dark-mode .box[style*="background-color: #f0f9ff"],
body.dark-mode .box[style*="background-color: #f5f5f5"],
body.dark-mode .box[style*="background-color: #fafafa"] {
  background-color: #353535 !important;
}

body.dark-mode a[style*="background: #4ecdc4"] {
  background: #2a9d8f !important;
}

body.dark-mode #calculatorResults p,
body.dark-mode #calculatorResults span,
body.dark-mode #calculatorResults strong,
body.dark-mode #calculatorResults em {
  color: #e0e0e0 !important;
}

body.dark-mode .box[style*="background-color"] p,
body.dark-mode .box[style*="background-color"] h3,
body.dark-mode .box[style*="background-color"] li,
body.dark-mode .box[style*="background-color"] strong,
body.dark-mode .box[style*="background-color"] em {
  color: #e0e0e0 !important;
}

body.dark-mode .box[style*="border: 2px solid #4ecdc4"],
body.dark-mode .box[style*="border-left: 4px solid #4ecdc4"] {
  border-color: #555 !important;
}
